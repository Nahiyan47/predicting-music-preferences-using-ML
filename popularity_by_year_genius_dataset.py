# -*- coding: utf-8 -*-
"""Untitled0.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1EfeJYCUnObgpYNk4q_IWrqlP_GdSGTj4
"""

import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Load the dataset
df = pd.read_csv("song_lyrics_genius.csv")

# Convert 'views' to numeric type
df['views'] = pd.to_numeric(df['views'], errors='coerce')

# Drop rows with missing or invalid data
df = df.dropna(subset=['views', 'tag', 'year'])

# Group by 'year' and 'tag' (genre), and aggregate to sum up the views for each combination
yearly_genre_views = df.groupby(['year', 'tag'])['views'].sum().unstack()

# Plotting
plt.figure(figsize=(12, 8))
sns.heatmap(yearly_genre_views.fillna(0), cmap='YlGnBu', linewidths=0.5)
plt.title('Popularity of Genres by Year Based on Views')
plt.xlabel('Genre')
plt.ylabel('Year')
plt.xticks(rotation=45)
plt.show()





